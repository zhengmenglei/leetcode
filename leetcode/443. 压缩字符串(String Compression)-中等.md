# 一、题目
给你一个字符数组 chars ，请使用下述算法压缩：   
   
从一个空字符串 s 开始。对于 chars 中的每组 连续重复字符 ：   
- 如果这一组长度为 1 ，则将字符追加到 s 中。
- 否则，需要向 s 追加字符，后跟这一组的长度。
     
     
压缩后得到的字符串 s 不应该直接返回 ，需要转储到字符数组 chars 中。需要注意的是，如果组长度为 10 或 10 以上，则在 chars 数组中会被拆分为多个字符。   
   
请在 修改完输入数组后 ，返回该数组的新长度。   
   
你必须设计并实现一个只使用常量额外空间的算法来解决此问题。   
    
**示例 1：**   
```
输入：chars = ["a","a","b","b","c","c","c"]
输出：返回 6 ，输入数组的前 6 个字符应该是：["a","2","b","2","c","3"]
解释：
"aa" 被 "a2" 替代。"bb" 被 "b2" 替代。"ccc" 被 "c3" 替代。
```
**示例 2：**   
```
输入：chars = ["a"]
输出：返回 1 ，输入数组的前 1 个字符应该是：["a"]
解释：
没有任何字符串被替代。
```
**示例 3：**   
```
输入：chars = ["a","b","b","b","b","b","b","b","b","b","b","b","b"]
输出：返回 4 ，输入数组的前 4 个字符应该是：["a","b","1","2"]。
解释：
由于字符 "a" 不重复，所以不会被压缩。"bbbbbbbbbbbb" 被 “b12” 替代。
注意每个数字在数组中都有它自己的位置。
```
**提示：**    
- 1 <= chars.length <= 2000
- chars[i] 可以是小写英文字母、大写英文字母、数字或符号
    
    
来源：力扣（LeetCode）   
链接：[https://leetcode-cn.com/problems/string-compression](https://leetcode-cn.com/problems/string-compression)    
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。   
# 二、分析及代码    
## 1. 模拟
### （1）思路
设计 1 个 char 和 2 个 int，分别记录字符串中出现的上一字符、该字符连续出现的长度和新数组目前的长度，遍历并直接模拟字符串的压缩过程。    
### （2）代码
```java
class Solution {
    public int compress(char[] chars) {
        int n = chars.length, ans = 0, cnt = 1;//ans为新数组目前的长度，也是指向原数组当前修改位置的指针，cnt为当前字符连续出现的长度
        char lastCh = chars[0];//lastCh为当前连续出现的字符
        for (int i = 1; i <= n; i++) {//遍历，模拟压缩过程
            if (i == n || lastCh != chars[i]) {//到达字符串末尾或出现了不同的字符
                chars[ans++] = lastCh;//向新数组中存入该字符
                if (cnt > 1) {//字符连续出现的长度大于1，向新数组中存入长度数值
                    char[] numStr = String.valueOf(cnt).toCharArray();//将长度转化为char[]
                    for (int k = 0; k < numStr.length; k++)
                        chars[ans++] = numStr[k];//依次存入
                }
                if (i == n)//到达字符串末尾，跳出
                    break;
                lastCh = chars[i];//更新当前字符
                cnt = 1;//更新当前字符连续出现的长度为1
            } else//遍历到的字符与上一字符相同
                cnt++;//更新该字符连续出现的长度
        }
        return ans;//返回数组的新长度
    }
}
```
### （3）结果
执行用时 ：1 ms，在所有 Java 提交中击败了 99.01% 的用户；    
内存消耗 ：38.2 MB，在所有 Java 提交中击败了 41.54% 的用户。      
# 三、其他
暂无。  
