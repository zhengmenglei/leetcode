# 一、题目
给定一个只包含三种字符的字符串：（ ，） 和 *，写一个函数来检验这个字符串是否为有效字符串。有效字符串具有如下规则：    
1. 任何左括号 ( 必须有相应的右括号 )。
2. 任何右括号 ) 必须有相应的左括号 ( 。
3. 左括号 ( 必须在对应的右括号之前 )。
4. * 可以被视为单个右括号 ) ，或单个左括号 ( ，或一个空字符串。
5. 一个空字符串也被视为有效字符串。
    
    
**示例 1:**    
```
输入: "()"
输出: True
```
**示例 2:**   
```
输入: "(*)"
输出: True
```
**示例 3:**   
```
输入: "(*))"
输出: True
```
**注意:**    
- 字符串大小将在 [1，100] 范围内。
     
     
来源：力扣（LeetCode）    
链接：[https://leetcode-cn.com/problems/valid-parenthesis-string](https://leetcode-cn.com/problems/valid-parenthesis-string)     
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。    
# 二、分析及代码    
## 1. 贪心
### （1）思路
基于栈的思想，设计 2 个计数器 minLeft、maxLeft，记录当前最少、最多的待匹配左括号数量。则    
- 若当前符号为左括号，待匹配的最少、最多左括号数量均 +1
- 若当前符号为右括号，待匹配的最少、最多左括号数量均 -1，其中左括号不足时必须使用星号，且完成后如果待匹配的最多左括号数量小于 0，即当前右括号数量 > 左括号 + 星号，字符串无效
- 若当前符号为星号，它既可作为左括号，也可作为右括号或空字符，因此待匹配的最少左括号 -1，最多左括号 +1
    
    
最后，判断待匹配的最少左括号是否为 0，即可确定字符串的有效性。     
### （2）代码
```java
class Solution {
    public boolean checkValidString(String s) {
        char[] str = s.toCharArray();
        int n = str.length, minLeft = 0, maxLeft = 0;//字符串长度，当前最少、最多的待匹配左括号数量
        for (int i = 0; i < n; i++) {//遍历字符串
            switch(str[i]) {//处理当前符号
                case '(' ://左括号，待匹配的最少、最多左括号数量均+1
                    minLeft++;
                    maxLeft++;
                    break;
                case ')' ://右括号，待匹配的最少、最多左括号数量均—1
                    minLeft = Math.max(minLeft - 1, 0);//左括号不足时，必须使用星号
                    maxLeft--;
                    if (maxLeft < 0)//待匹配的最多左括号数量小于0，即当前右括号数量>左括号+星号，字符串无效
                        return false;
                    break;
                case '*'://星号，既可作为左括号，也可作为右括号或空字符，待匹配的最少左括号-1，最多左括号+1
                    minLeft = Math.max(minLeft - 1, 0);
                    maxLeft++;
                    break;
            }
        }
        return minLeft == 0;//判断右括号数量是否不足并返回
    }
}
```
### （3）结果
执行用时 ：0 ms，在所有 Java 提交中击败了 100.00% 的用户；    
内存消耗 ：36.1 MB，在所有 Java 提交中击败了 88.73% 的用户。      
# 三、其他
暂无。  
